"use strict";(self.webpackChunkanonymous=self.webpackChunkanonymous||[]).push([[182],{8182:(S,g,s)=>{s.r(g),s.d(g,{CreateMessageModule:()=>Z});var c=s(8583),u=s(8295),l=s(9983),d=s(4470),m=s(2305),a=s(3679),f=s(1312),e=s(7716),h=s(1432),C=s(2290),p=s(3738);function M(t,r){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Message is "),e.TgZ(2,"strong"),e._uU(3,"required"),e.qZA(),e.qZA())}const v=[{path:"",component:(()=>{class t{constructor(n,o,i,b){this.anonymousService=n,this.toastr=o,this.router=i,this.route=b,this.spinnerButtonOptions=Object.assign(Object.assign({},f.Fx),{text:"Send message"}),this.form=new a.cw({message:new a.NI(null,[a.kI.required])})}ngOnInit(){this.routeSub=this.route.params.subscribe(n=>{console.log(n),console.log(n.id),this.username=n.id})}onSubmit(){if(this.form.invalid)return;console.log(this.form.value);let n={message:this.form.value.message,created_at:new Date,username:this.username};this.spinnerButtonOptions=Object.assign(Object.assign({},this.spinnerButtonOptions),{active:!0}),this.anonymousService.sendAnonymous(n).subscribe(o=>{console.log("message sent successfully"),console.log(o),this.spinnerButtonOptions=Object.assign(Object.assign({},this.spinnerButtonOptions),{active:!1}),this.toastr.success("Message sent successfull."),setTimeout(()=>{this.toastr.info("Now it's your turn to create an account and dare your friends to tell you what they think about you!"),this.router.navigateByUrl("/signup")},3e3)},o=>{console.log("error",o),this.spinnerButtonOptions=Object.assign(Object.assign({},this.spinnerButtonOptions),{active:!1}),this.toastr.error("Error sending message.please try again")})}ngOnDestroy(){this.routeSub.unsubscribe()}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(h.w),e.Y36(C._W),e.Y36(m.F0),e.Y36(m.gz))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-create-message"]],decls:15,vars:4,consts:[[1,"wrapper"],[1,"card"],[3,"formGroup","ngSubmit"],[1,""],["appearance","standard",2,"width","300px"],["formControlName","message","matInput",""],[4,"ngIf"],[3,"options"]],template:function(n,o){if(1&n&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"mat-card"),e.TgZ(3,"form",2),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(4,"h1",3),e._uU(5,"Say Something.."),e.qZA(),e.TgZ(6,"h3"),e._uU(7,"Say Something About Me *"),e.qZA(),e.TgZ(8,"mat-form-field",4),e.TgZ(9,"mat-label"),e._uU(10),e.qZA(),e._UZ(11,"textarea",5),e.YNc(12,M,4,0,"mat-error",6),e.qZA(),e._UZ(13,"br"),e._UZ(14,"mat-spinner-button",7),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&n){let i;e.xp6(3),e.Q6J("formGroup",o.form),e.xp6(7),e.hij("Leave a message for ",o.username," here..."),e.xp6(2),e.Q6J("ngIf",null==(i=o.form.get("message"))?null:i.hasError("required")),e.xp6(2),e.Q6J("options",o.spinnerButtonOptions)}},directives:[p.a8,a._Y,a.JL,a.sg,u.KE,u.hX,a.Fj,l.Nt,a.JJ,a.u,c.O5,d.cT,u.TO],styles:[".card[_ngcontent-%COMP%]{padding:5rem;display:flex;justify-content:center;align-items:center}mat-card[_ngcontent-%COMP%]{padding:5rem}h1[_ngcontent-%COMP%]{display:block;font-size:2em;margin-block-start:.67em;margin-block-end:.67em;margin-inline-start:0px;margin-inline-end:0px;text-align:center}h3[_ngcontent-%COMP%]{text-align:center;font-size:1.5em}.about[_ngcontent-%COMP%]{text-align:center}@media screen and (max-width: 768px){.card[_ngcontent-%COMP%]{padding:1rem;height:80vh}mat-card[_ngcontent-%COMP%]{padding:1rem}}"]}),t})()}];let y=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[m.Bz.forChild(v)],m.Bz]}),t})();var O=s(1095);let Z=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[c.ez,a.UX,y,u.lN,p.QW,l.c,O.ot,d.mk]]}),t})()}}]);