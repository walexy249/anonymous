"use strict";(self.webpackChunkanonymous=self.webpackChunkanonymous||[]).push([[642],{1642:(B,d,o)=>{o.r(d),o.d(d,{LoginModule:()=>N});var p=o(8583),s=o(3679),u=o(8295),c=o(9983),T=o(2522),f=o(6627),h=o(1095),O=o(7441),A=o(3220),y=o(2458),Z=o(3738),v=o(4470),g=o(2305),L=o(1312),t=o(7716),b=o(3902),C=o(2290);function U(n,r){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Username is "),t.TgZ(2,"strong"),t._uU(3,"required"),t.qZA(),t.qZA())}function x(n,r){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Password is "),t.TgZ(2,"strong"),t._uU(3,"required"),t.qZA(),t.qZA())}function I(n,r){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Minimum length of password is 3 "),t.qZA())}class M{isErrorState(r,i){return!!(r&&r.invalid&&(r.dirty||r.touched||i&&i.submitted))}}const S=[{path:"",component:(()=>{class n{constructor(i,e,a){this.authService=i,this.router=e,this.toastr=a,this.hide=!0,this.loading=!1,this.spinnerButtonOptions=Object.assign(Object.assign({},L.Fx),{text:"Login"}),this.form=new s.cw({email:new s.NI(null,[s.kI.required]),password:new s.NI(null,[s.kI.required,s.kI.minLength(5)])}),this.matcher=new M}ngOnInit(){}onSubmit(){if(this.form.invalid)return void console.log("form is invalid");this.loading=!0,console.log(this.form.value);let i=`${this.form.value.email}@example.com`,e=this.form.value.password;this.spinnerButtonOptions=Object.assign(Object.assign({},this.spinnerButtonOptions),{active:!0}),this.authService.login(i,e).subscribe(a=>{this.loading=!1,console.log(a);let m=a.email.split("@")[0];console.log(m),this.spinnerButtonOptions=Object.assign(Object.assign({},this.spinnerButtonOptions),{active:!1}),this.toastr.success("Login successfull"),this.router.navigateByUrl("/profile")},a=>{this.spinnerButtonOptions=Object.assign(Object.assign({},this.spinnerButtonOptions),{active:!1}),this.loading=!1,console.log(a);const m=a.error.error.message;let l="Error loggin in";"EMAIL_NOT_FOUND"===m?l="Invalid username":"INVALID_PASSWORD"===m&&(l="Invalid password"),this.toastr.error(l)})}}return n.\u0275fac=function(i){return new(i||n)(t.Y36(b.$),t.Y36(g.F0),t.Y36(C._W))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-login"]],decls:29,vars:10,consts:[[1,"wrapper"],[1,"card"],[1,"card-body"],[1,"example-form",3,"formGroup","ngSubmit"],[1,"text-muted",2,"text-align","center"],[1,"example-full-width"],["type","text","matInput","","formControlName","email","placeholder","lanre@example.com",3,"errorStateMatcher"],[4,"ngIf"],[2,"display","block"],["appearance","standard",1,"example-full-width"],["matInput","","formControlName","password",3,"type"],["mat-icon-button","","matSuffix","","type","button",3,"click"],[1,"row"],[1,"col-6"],[3,"options"]],template:function(i,e){if(1&i&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"mat-card"),t.TgZ(3,"div"),t.TgZ(4,"div",2),t.TgZ(5,"form",3),t.NdJ("ngSubmit",function(){return e.onSubmit()}),t.TgZ(6,"h1"),t._uU(7,"Login"),t.qZA(),t.TgZ(8,"p",4),t._uU(9," Sign In to your account "),t.qZA(),t.TgZ(10,"mat-form-field",5),t.TgZ(11,"mat-label"),t._uU(12,"Username"),t.qZA(),t._UZ(13,"input",6),t.YNc(14,U,4,0,"mat-error",7),t.qZA(),t._UZ(15,"div",8),t.TgZ(16,"mat-form-field",9),t.TgZ(17,"mat-label"),t._uU(18,"Enter your password"),t.qZA(),t._UZ(19,"input",10),t.TgZ(20,"button",11),t.NdJ("click",function(){return e.hide=!e.hide}),t.TgZ(21,"mat-icon"),t._uU(22),t.qZA(),t.qZA(),t.YNc(23,x,4,0,"mat-error",7),t.YNc(24,I,2,0,"mat-error",7),t.qZA(),t._UZ(25,"div",8),t.TgZ(26,"div",12),t.TgZ(27,"div",13),t._UZ(28,"mat-spinner-button",14),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&i){let a,m,l;t.xp6(5),t.Q6J("formGroup",e.form),t.xp6(8),t.Q6J("errorStateMatcher",e.matcher),t.xp6(1),t.Q6J("ngIf",null==(a=e.form.get("email"))?null:a.hasError("required")),t.xp6(5),t.Q6J("type",e.hide?"password":"text"),t.xp6(1),t.uIk("aria-label","Hide password")("aria-pressed",e.hide),t.xp6(2),t.Oqu(e.hide?"visibility_off":"visibility"),t.xp6(1),t.Q6J("ngIf",null==(m=e.form.get("password"))?null:m.hasError("required")),t.xp6(1),t.Q6J("ngIf",(null==(l=e.form.get("password"))?null:l.hasError("minlength"))&&!(null!=(l=e.form.get("password"))&&l.hasError("required"))),t.xp6(4),t.Q6J("options",e.spinnerButtonOptions)}},directives:[Z.a8,s._Y,s.JL,s.sg,u.KE,u.hX,c.Nt,s.Fj,s.JJ,s.u,p.O5,h.lW,u.R9,f.Hw,v.cT,u.TO],styles:[".card[_ngcontent-%COMP%]{padding:5rem;display:flex;justify-content:center;align-items:center}mat-card[_ngcontent-%COMP%]{padding:4rem}h1[_ngcontent-%COMP%]{display:block;font-size:2em;margin-block-start:.67em;margin-block-end:.67em;margin-inline-start:0px;margin-inline-end:0px;text-align:center}h3[_ngcontent-%COMP%]{text-align:center;font-size:1.5em}@media screen and (max-width: 768px){.card[_ngcontent-%COMP%]{padding:0;height:80vh}}"]}),n})()}];let J=(()=>{class n{}return n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[g.Bz.forChild(S)],g.Bz]}),n})(),N=(()=>{class n{}return n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[p.ez,J,s.UX,T.g0,y.XK,Z.QW,f.Ps,h.ot,O.LD,A.FA,u.lN,c.c,v.mk]]}),n})()}}]);